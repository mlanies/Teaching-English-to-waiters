# üçΩÔ∏è English for Waiters Bot

Telegram –±–æ—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–æ–≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —É—Ä–æ–∫–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìö –û–±—É—á–µ–Ω–∏–µ
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É—Ä–æ–∫–∏** —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —É—Ä–æ–≤–Ω—è–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- **AI-–∞–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–æ–≤** —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
- **–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π** –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–µ–ª–∏** –æ–±—É—á–µ–Ω–∏—è

### üéØ –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ñ—Ä–∞–∑**: –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –∑–∞–∫–∞–∑, –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –æ–ø–ª–∞—Ç–∞
- **Text-to-Speech (TTS)** —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∂–∏–º–∞–º–∏:
  - üîä –û–±—ã—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
  - üêå –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å  
  - üìñ –ü–æ —Å–ª–æ–≥–∞–º
  - üîÑ –° –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∏–∞–ª–æ–≥–∏** –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π

### üèÜ –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥
- **–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è** –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- **–ì—Ä—É–ø–ø–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ** –∏ —á–∞—Ç—ã
- **–°–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∑–µ–π** –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### ü§ñ AI-—Ñ—É–Ω–∫—Ü–∏–∏
- **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è** –∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å** —É—Ä–æ–∫–æ–≤
- **Text-to-Speech** –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Cloudflare Workers
- **Database**: Cloudflare D1 (SQLite)
- **Cache**: Cloudflare KV
- **AI**: Cloudflare AI (OpenAI, MeloTTS)
- **Bot API**: Telegram Bot API
- **Language**: JavaScript/Node.js

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <repository-url>
cd Teaching-English-to-waiters
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cloudflare
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Wrangler CLI
npm install -g wrangler

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Cloudflare
wrangler login
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ Cloudflare
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ D1 –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
wrangler d1 create english-waiters-db

# –°–æ–∑–¥–∞–Ω–∏–µ KV –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤
wrangler kv namespace create USER_SESSIONS
wrangler kv namespace create LESSON_CACHE
wrangler kv namespace create AI_CONTEXT
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `wrangler.example.toml` –≤ `wrangler.toml` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
- ID –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö D1
- ID KV –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤
- Telegram Bot Token
- –î—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 6. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
wrangler d1 execute english-waiters-db --file=./migrations/0000_initial_schema.sql
wrangler d1 execute english-waiters-db --file=./migrations/0001_social_features.sql
```

### 7. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
wrangler deploy
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ commands/          # –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ achievements.js
‚îÇ   ‚îú‚îÄ‚îÄ detailedStats.js
‚îÇ   ‚îú‚îÄ‚îÄ examples.js
‚îÇ   ‚îú‚îÄ‚îÄ help.js
‚îÇ   ‚îú‚îÄ‚îÄ leaderboard.js
‚îÇ   ‚îú‚îÄ‚îÄ learningGoals.js
‚îÇ   ‚îú‚îÄ‚îÄ lesson.js
‚îÇ   ‚îú‚îÄ‚îÄ profile.js
‚îÇ   ‚îî‚îÄ‚îÄ start.js
‚îú‚îÄ‚îÄ database/          # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ init.js
‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ telegram.js
‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ aiService.js
‚îÇ   ‚îú‚îÄ‚îÄ callbackProcessor.js
‚îÇ   ‚îú‚îÄ‚îÄ examplesService.js
‚îÇ   ‚îú‚îÄ‚îÄ lessonData.js
‚îÇ   ‚îú‚îÄ‚îÄ lessonService.js
‚îÇ   ‚îú‚îÄ‚îÄ messageProcessor.js
‚îÇ   ‚îú‚îÄ‚îÄ sessionService.js
‚îÇ   ‚îú‚îÄ‚îÄ socialService.js
‚îÇ   ‚îú‚îÄ‚îÄ telegram.js
‚îÇ   ‚îú‚îÄ‚îÄ ttsService.js
‚îÇ   ‚îî‚îÄ‚îÄ userService.js
‚îî‚îÄ‚îÄ index.js           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∏—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å
- `lessons` - —É—Ä–æ–∫–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- `achievements` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `social_features` - —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `leaderboard` - —Ä–µ–π—Ç–∏–Ω–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `competitions` - —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
- `study_groups` - —É—á–µ–±–Ω—ã–µ –≥—Ä—É–ø–ø—ã

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/start` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º
- `/help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `/lesson` - –Ω–∞—á–∞—Ç—å —É—Ä–æ–∫
- `/examples` - –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ñ—Ä–∞–∑
- `/profile` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/leaderboard` - —Ä–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/achievements` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### –ù–∞–≤–∏–≥–∞—Ü–∏—è:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –º–µ–Ω—é
- –í—ã–±–∏—Ä–∞–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Ä–æ–∫–æ–≤ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ TTS —Ä–µ–∂–∏–º—ã –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è
- –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö –∏ –≥—Ä—É–ø–ø–∞—Ö

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
npm test
```

### –õ–∏–Ω—Ç–∏–Ω–≥:
```bash
npm run lint
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
npm run format
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
```bash
wrangler dev
```

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `docs/`:
- `API.md` - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `NEW_FEATURES.md` - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `VOICE_FEATURES.md` - –≥–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë• –ê–≤—Ç–æ—Ä—ã

- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: [–í–∞—à–µ –∏–º—è]
- –ò–¥–µ—è: –û–±—É—á–µ–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–æ–≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Cloudflare Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**English for Waiters Bot** - –≤–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ –æ–±—É—á–µ–Ω–∏–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º–∏ –≥–æ—Å—Ç—è–º–∏! üçΩÔ∏èüá¨üáß
