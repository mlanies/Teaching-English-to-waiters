# üé§ –ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –û–±–∑–æ—Ä

–ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±–æ—Ç–µ "English for Waiters" –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é AI-—Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏ (TTS) –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞—É–¥–∏–æ –∫–∞–∫ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—é –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –Ω–∞ —Å–ª—É—Ö.

## üöÄ –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**URL –±–æ—Ç–∞:** https://english-for-waiters-bot.2gc.workers.dev

## üîä –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. **TTS (Text-to-Speech) —Å–µ—Ä–≤–∏—Å**
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–æ–ª–æ—Å–æ–≤**: Alloy, Echo, Nova, Shimmer, Onyx, Fable
- **–†–∞–∑–ª–∏—á–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏**: –æ–±—ã—á–Ω–∞—è, –º–µ–¥–ª–µ–Ω–Ω–∞—è, –ø–æ —Å–ª–æ–≥–∞–º
- **–§–æ—Ä–º–∞—Ç—ã –∞—É–¥–∏–æ**: OGG (–æ—Å–Ω–æ–≤–Ω–æ–π), MP3 (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π)
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤**: –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤

### 2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram**
- **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**: –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∫ voice messages
- **–ü–æ–¥–ø–∏—Å–∏**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ caption –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Telegram

### 3. **–†–µ–∂–∏–º—ã –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è**
- **üîä –û–±—ã—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** - –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ—á–∏
- **üêå –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** - –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è
- **üìñ –ü–æ —Å–ª–æ–≥–∞–º** - –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è
- **üîÑ –° –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º** - –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ

### –í —Ä–∞–∑–¥–µ–ª–µ "–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã":

1. **–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**:
   ```
   üëã –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≥–æ—Å—Ç–µ–π
   üìã –ú–µ–Ω—é –∏ –∑–∞–∫–∞–∑—ã
   üí≥ –û–ø–ª–∞—Ç–∞ –∏ —Ä–∞—Å—á–µ—Ç
   üö® –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
   üçΩÔ∏è Fine Dining
   üçî Fast Food
   üí¨ –î–∏–∞–ª–æ–≥–∏
   ```

2. **–í—ã–±–æ—Ä –ø—Ä–∏–º–µ—Ä–∞**:
   ```
   ‚úÖ "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à —Ä–µ—Å—Ç–æ—Ä–∞–Ω"
   ‚úÖ "–ú–æ–≥—É —è –ø—Ä–∏–Ω–µ—Å—Ç–∏ –≤–∞–º –º–µ–Ω—é?"
   ‚úÖ "–ß—Ç–æ –≤—ã –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç–µ?"
   ```

3. **–û–∑–≤—É—á–∏–≤–∞–Ω–∏–µ**:
   ```
   üîä –û–∑–≤—É—á–∏—Ç—å (–æ–±—ã—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
   üêå –ú–µ–¥–ª–µ–Ω–Ω–æ (–º–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
   üìñ –ü–æ —Å–ª–æ–≥–∞–º (–¥–ª—è –∏–∑—É—á–µ–Ω–∏—è)
   üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å (—Å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º)
   ```

### –í —É—Ä–æ–∫–∞—Ö:

- **AI –∞–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–æ–≤** —Å –≥–æ–ª–æ—Å–æ–≤–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
- **–û–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤**
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—é**
- **–ì–æ–ª–æ—Å–æ–≤—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏**

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram Bot  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  TTSService     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Cloudflare AI  ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ  Voice Messages ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÇ  Audio Buffer   ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÇ  TTS Response   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

#### 1. **TTSService** (`src/services/ttsService.js`)
```javascript
export class TTSService {
  constructor(ai, telegramService) {
    this.ai = ai;
    this.telegram = telegramService;
  }

  // –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
  async speakEnglishAndSend(chatId, text, voice, caption)
  async speakSlowAndSend(chatId, text, voice, caption)
  async speakSyllablesAndSend(chatId, text, voice, caption)
  async speakRepeatAndSend(chatId, text, voice, caption)
  async speakLessonWithAnalysis(chatId, question, userAnswer, aiAnalysis)
}
```

#### 2. **TelegramService** (`src/services/telegram.js`)
```javascript
export class TelegramService {
  constructor(botToken) {
    this.botToken = botToken;
  }

  // –ú–µ—Ç–æ–¥—ã –æ—Ç–ø—Ä–∞–≤–∫–∏
  async sendVoice(chatId, audioBuffer, options)
  async sendAudio(chatId, audioBuffer, options)
  async sendDocument(chatId, audioBuffer, options)
}
```

#### 3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–º–∞–Ω–¥—ã** (`src/commands/examples.js`)
```javascript
export async function handleTTSCommand(user, categoryId, exampleId, ttsType, session, env) {
  const telegramService = createTelegramService(env.TELEGRAM_BOT_TOKEN);
  const ttsService = createTTSService(env.AI, telegramService);
  
  // –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è
  switch (ttsType) {
    case 'normal':
      await ttsService.speakEnglishAndSend(chatId, text, voice, caption);
      break;
    case 'slow':
      await ttsService.speakSlowAndSend(chatId, text, voice, caption);
      break;
    // ... –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã
  }
}
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≥–æ–ª–æ—Å–∞ (MyShell AI MeloTTS):

| –ì–æ–ª–æ—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-------|----------|--------------|
| **en_female_01** | –ñ–µ–Ω—Å–∫–∏–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —á–µ—Ç–∫–∏–π | –û—Å–Ω–æ–≤–Ω–æ–π –≥–æ–ª–æ—Å |
| **en_male_01** | –ú—É–∂—Å–∫–æ–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –≥–ª—É–±–æ–∫–∏–π | –î–ª—è –º—É–∂—Å–∫–∏—Ö —Ä–æ–ª–µ–π |
| **en_female_02** | –ñ–µ–Ω—Å–∫–∏–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π | –î–ª—è –∂–µ–Ω—Å–∫–∏—Ö —Ä–æ–ª–µ–π |
| **en_male_02** | –ú—É–∂—Å–∫–æ–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π | –î–ª—è –±—ã—Å—Ç—Ä—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ |
| **en_female_03** | –ñ–µ–Ω—Å–∫–∏–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π | –î–ª—è —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π |
| **en_male_03** | –ú—É–∂—Å–∫–æ–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π | –î–ª—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω |

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ú–µ—Ç—Ä–∏–∫–∏:
- **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: 2-5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ñ—Ä–∞–∑
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**: 10-50 KB –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö —Ñ—Ä–∞–∑
- **–ö–∞—á–µ—Å—Ç–≤–æ –∞—É–¥–∏–æ**: 44.1 kHz, 16-bit
- **–§–æ—Ä–º–∞—Ç**: OGG Vorbis (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Telegram)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—Ä–∞–∑—ã
- **–°–∂–∞—Ç–∏–µ**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞
- **–û—á–µ—Ä–µ–¥–∏**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Fallback**: —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üéì –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–ª—è –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è:
1. **–¢–æ—á–Ω–æ—Å—Ç—å –∑–≤—É–∫–æ–≤** - —Å–ª—É—à–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ
2. **–ò–Ω—Ç–æ–Ω–∞—Ü–∏—è** - –∏–∑—É—á–∞–π—Ç–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—É—é –∏–Ω—Ç–æ–Ω–∞—Ü–∏—é
3. **–†–∏—Ç–º —Ä–µ—á–∏** - –ø–æ–Ω–∏–º–∞–π—Ç–µ —Ç–µ–º–ø –∏ –ø–∞—É–∑—ã
4. **–ê–∫—Ü–µ–Ω—Ç** - –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ—Å—å –∫ —Ä–∞–∑–Ω—ã–º –∞–∫—Ü–µ–Ω—Ç–∞–º

### –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è:
1. **–°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è** - —Ç—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–ª—É—Ö
2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç** - —Å–≤—è–∑—ã–≤–∞–π—Ç–µ –∑–≤—É–∫–∏ —Å —Å–∏—Ç—É–∞—Ü–∏—è–º–∏
3. **–ü—Ä–∞–∫—Ç–∏–∫–∞** - —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ
4. **–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ** - –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞

### –î–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏:
1. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ –æ–±—É—á–µ–Ω–∏–∏
2. **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - —Å—Ä–∞–∑—É —Å–ª—ã—à–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
3. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –≤—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –≥–æ–ª–æ—Å–∞
4. **–ü—Ä–æ–≥—Ä–µ—Å—Å** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. **"AI service unavailable"**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Cloudflare AI
wrangler ai list
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ AI binding –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

#### 2. **"Telegram API error"**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
curl "https://api.telegram.org/bot<TOKEN>/getMe"
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
```

#### 3. **"Audio generation failed"**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
wrangler tail --format pretty
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ –ø—É—Å—Ç–æ–π
```

#### 4. **"File too large"**
```bash
# –†–∞–∑–±–µ–π—Ç–µ –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —á–∞—Å—Ç–∏
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Ñ—Ä–∞–∑—ã
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∂–∞—Ç–∏—è
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
wrangler tail

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–æ–ª–æ—Å–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º
wrangler tail --format pretty | grep "TTS\|Voice"

# –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤
wrangler tail --format json > logs.json
```

## üîÆ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏):
- [ ] **–ë–æ–ª—å—à–µ –≥–æ–ª–æ—Å–æ–≤** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
- [ ] **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1 –º–µ—Å—è—Ü):
- [ ] **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (STT)** - –≥–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥
- [ ] **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è** - –æ—Ü–µ–Ω–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏
- [ ] **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** - AI-—Å–æ–≤–µ—Ç—ã
- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —è–∑—ã–∫–∞–º–∏** - –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (2-3 –º–µ—Å—è—Ü–∞):
- [ ] **AI-—Ç—Ä–µ–Ω–µ—Ä –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä
- [ ] **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏** - –≥–æ–ª–æ—Å–æ–≤—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã
- [ ] **–í–∏–¥–µ–æ —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏** - –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- [ ] **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - –Ω–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –û–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∏–º–µ—Ä –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
const example = {
  russian: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à —Ä–µ—Å—Ç–æ—Ä–∞–Ω!",
  english: "Welcome to our restaurant!",
  context: "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≥–æ—Å—Ç–µ–π –ø—Ä–∏ –≤—Ö–æ–¥–µ"
};

// AI –æ–∑–≤—É—á–∏–≤–∞–µ—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ–∫—Å—Ç
await ttsService.speakEnglishAndSend(
  chatId, 
  example.english, 
  'alloy', 
  `üé§ ${example.russian}`
);
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–∞ –≤ —É—Ä–æ–∫–µ
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å —É—Ä–æ–∫–∞
const userAnswer = "I would like to order a steak";
const correctAnswer = "I would like to order a steak, please.";

// AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –æ–∑–≤—É—á–∏–≤–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
const analysis = await analyzeWithAI(userAnswer, correctAnswer);
await ttsService.speakLessonWithAnalysis(
  chatId, 
  question, 
  userAnswer, 
  analysis
);
```

### –ü—Ä–∏–º–µ—Ä 3: –î–∏–∞–ª–æ–≥ —Å —Ä–∞–∑–Ω—ã–º–∏ –≥–æ–ª–æ—Å–∞–º–∏
```javascript
// –û–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏
const dialogue = [
  { text: "Good evening, sir. Welcome to our restaurant.", voice: 'alloy' },
  { text: "Thank you. I'd like a table for two.", voice: 'echo' },
  { text: "Of course. Right this way, please.", voice: 'alloy' }
];

for (const line of dialogue) {
  await ttsService.speakEnglishAndSend(
    chatId, 
    line.text, 
    line.voice, 
    `üí¨ ${line.text}`
  );
}
```

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É –¥–ª—è –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–æ–≤:

1. **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å** - —Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ–º
2. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ –æ–±—É—á–µ–Ω–∏–∏
3. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –≤—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –≥–æ–ª–æ—Å–æ–≤ –∏ —Å–∫–æ—Ä–æ—Å—Ç–µ–π
4. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–∏

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–µ–ª–∞—é—Ç –±–æ—Ç–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —É—á–µ–±–Ω—ã–º –ø–æ—Å–æ–±–∏–µ–º, –∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º AI-—Ç—Ä–µ–Ω–µ—Ä–æ–º –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞.
